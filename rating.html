<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Matchplay Ratings</title>
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=Instrument+Serif:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="hero hero--sport hero--parallax">
      <div class="hero__content hero__content--wide">
        <div class="hero__title-row">
          <img class="brand__logo brand__logo--xl" src="assets/logo.png" alt="Matchplay Records logo" />
          <h1>Matchplay Ratings</h1>
        </div>
        <div class="hero__links">
          <a class="hero__link" href="index.html">Matchplay Rankings →</a>
          <a class="hero__link" href="lineal.html">Lineal Championship →</a>
        </div>
      </div>
    </header>

    <section class="sport-band">
      <div class="sport-band__content">
        <div class="sport-band__copy">
          <p class="sport-band__eyebrow">Official Matchplay Ratings</p>
          <h2>A true measure of match play performance.</h2>
          <p>
            These Elo ratings capture performance across elite match play competition, accounting for strength of opposition and quality of results. Every match updates a player’s rating, ensuring rankings reflect not just outcomes, but the context in which they were achieved.
            <br />
            <br />
            Every player debuts at a Rating of 1000 and then goes up and down depending on their results and the rating difference between them and their opponent at the time. This ensures that player ratings won't just be inflated by an easy run of matches and is how Chess Ratings are traditionally calculated.
            <br />
            <br />
            The result is a definitive, data-driven ranking of match play ability.
          </p>
        </div>
        <div class="sport-band__media">
          <div class="lineal-card lineal-card--gold" id="ratingLeaderCard">
            <span class="rating-rank-badge" aria-hidden="true">#1</span>
            <p class="lineal-card__label">Top Rated Player</p>
            <div class="lineal-card__title-row">
              <h2 class="lineal-card__name" id="ratingLeaderName">—</h2>
              <span class="lineal-card__record" id="ratingLeaderRating">Rating —</span>
            </div>
            <div class="lineal-card__meta" id="ratingLeaderMeta"></div>
            <div class="lineal-card__stats" id="ratingLeaderStats"></div>
          </div>
          <div class="image-slot image-slot--photo">
            <img src="assets/matchplay-rory.avif" alt="Rory McIlroy in match play action" />
          </div>
        </div>
      </div>
    </section>

    <main class="layout layout--sport">
      <section class="panel panel--sport">
        <div class="panel__header">
          <div class="panel__title-row">
            <h2>Matchplay Ratings Table</h2>
            <button class="mobile-filter-toggle" id="mobileFilterToggle" type="button">
              Filters
            </button>
            <div class="status-toggle">
              <span class="status-toggle__label">All-time</span>
              <input id="activeOnlyToggle" type="checkbox" checked />
              <span class="status-toggle__slider"></span>
              <span class="status-toggle__label">Active</span>
            </div>
          </div>
          <p class="muted">
            Ratings are computed in chronological order by year, then event, then round.
          </p>
        </div>

        <div class="controls controls-panel" id="controlsPanel">
          <div class="controls-panel__header">
            <h3>Filters</h3>
            <button class="controls-panel__close" id="controlsPanelClose" type="button">
              Close
            </button>
          </div>
          <label>
            Player Search
            <div class="player-search">
              <div id="playerChips" class="player-search__chips"></div>
              <input id="searchInput" type="search" placeholder="Add player" />
              <div id="playerSuggestions" class="player-search__suggestions"></div>
            </div>
          </label>
          <div class="country-filter">
            <span class="country-filter__label">Event</span>
            <details class="country-filter__dropdown" id="eventDropdown">
              <summary id="eventSummary">All events</summary>
              <div class="country-filter__panel">
                <div class="country-filter__search">
                  <span class="country-filter__search-icon">⌕</span>
                  <input id="eventSearch" type="search" placeholder="Search events" />
                </div>
                <label class="country-filter__item country-filter__item--all">
                  <input id="eventSelectAll" type="checkbox" />
                  <span class="country-filter__text">Select all</span>
                </label>
                <div id="eventFilter" class="country-filter__list"></div>
              </div>
            </details>
          </div>
          <label>
            <span class="range-label">
              Min Matches
              <span id="minMatchesValue" class="range-value">1+</span>
            </span>
            <div class="range-row">
              <input id="minMatches" type="range" min="1" max="10" step="1" value="1" />
            </div>
          </label>
          <div class="country-filter">
            <span class="country-filter__label">Nationality</span>
            <details class="country-filter__dropdown" id="countryDropdown">
              <summary id="countrySummary">All nationalities</summary>
              <div class="country-filter__panel">
                <div class="country-filter__search">
                  <span class="country-filter__search-icon">⌕</span>
                  <input
                    id="countrySearch"
                    type="search"
                    placeholder="Search countries"
                  />
                </div>
                <label class="country-filter__item country-filter__item--all">
                  <input id="countrySelectAll" type="checkbox" />
                  <span class="country-filter__text">Select all</span>
                </label>
                <div id="countryFilter" class="country-filter__list"></div>
              </div>
            </details>
          </div>
        </div>

        <div id="summary" class="summary"></div>
        <div class="filter-chips__row">
          <div id="filterChips" class="filter-chips"></div>
          <button id="clearAllFilters" type="button" class="filter-clear-all">
            Clear all filters
          </button>
        </div>

        <div class="table-wrap">
          <table class="rank-table">
            <thead>
              <tr>
                <th data-sort="rank">Rank</th>
                <th data-sort="name">Player</th>
                <th data-sort="rating">Rating</th>
                <th data-sort="matches">Matches</th>
                <th data-sort="wdl">W-D-L</th>
                <th data-sort="trend">Trend</th>
              </tr>
            </thead>
            <tbody id="ratingBody"></tbody>
          </table>
        </div>
      </section>
    </main>

    <div class="mobile-filter-bar" id="mobileFilterBar">
      <button class="mobile-filter-toggle" type="button" id="mobileFilterToggleBar">
        Filters
      </button>
    </div>
    <div class="mobile-filter-overlay" id="mobileFilterOverlay"></div>

    <footer class="footer">
      <div class="footer__content">
        <p class="footer__note">Ratings are for singles matchplay only.</p>
      </div>
    </footer>

    <script src="rating.js"></script>
  </body>
</html>
