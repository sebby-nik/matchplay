<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Events</title>
    <meta
      name="description"
      content="Upcoming matchplay team events, including Ryder Cup and Presidents Cup schedules, venues, and dates."
    />
    <meta property="og:site_name" content="Matchplay Rankings" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Events | Matchplay Rankings" />
    <meta
      property="og:description"
      content="Upcoming matchplay team events, including Ryder Cup and Presidents Cup schedules, venues, and dates."
    />
    <meta property="og:url" content="https://www.matchplayrankings.com/events.html" />
    <meta
      property="og:image"
      content="https://www.matchplayrankings.com/assets/matchplay-rory.avif"
    />
    <meta property="og:image:width" content="640" />
    <meta property="og:image:height" content="637" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Events | Matchplay Rankings" />
    <meta
      name="twitter:description"
      content="Upcoming matchplay team events, including Ryder Cup and Presidents Cup schedules, venues, and dates."
    />
    <meta
      name="twitter:image"
      content="https://www.matchplayrankings.com/assets/matchplay-rory.avif"
    />
    <link rel="canonical" href="https://www.matchplayrankings.com/events.html" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link
      href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=Instrument+Serif:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav class="site-nav">
      <div class="site-nav__inner">
        <button class="site-nav__toggle" type="button" aria-expanded="false" aria-controls="siteNavLinks">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <div class="site-nav__links" id="siteNavLinks">
          <a class="site-nav__link" href="index.html">Player Ratings</a>
          <a class="site-nav__link" href="records.html">Player Records</a>
          <a class="site-nav__link" href="lineal.html">Lineal Championship</a>
          <a class="site-nav__link is-active" href="events.html">Events</a>
          <a class="site-nav__link" href="faq.html">FAQs</a>
          <a class="site-nav__link" href="about.html">About Us</a>
        </div>
      </div>
    </nav>
    <div class="site-nav__backdrop" id="siteNavBackdrop"></div>

    <header class="hero hero--sport">
      <div class="hero__content hero__content--wide">
        <p class="eyebrow">Upcoming Fixtures</p>
        <div class="hero__title-row">
          <h1>Matchplay Events</h1>
        </div>
        <p class="lede">
          The calendar below tracks upcoming Matchplay events and shows the results of all past Matchplay events in the dataset, sorted by date with venues and event
          details in one place.
        </p>
      </div>
    </header>

    <section class="schedule">
      <div class="schedule__toggle" role="tablist" aria-label="Events view">
        <button class="schedule__toggle-btn is-active" type="button" data-view="upcoming" role="tab" aria-selected="true">
          Upcoming
        </button>
        <button class="schedule__toggle-btn" type="button" data-view="results" role="tab" aria-selected="false">
          Results
        </button>
      </div>

      <div class="schedule__panel is-active" data-panel="upcoming" role="tabpanel">
        <div class="schedule__group">
          <div class="schedule__heading">
            <h2>2026</h2>
          </div>
          <div class="schedule__cards">
            <article class="schedule__card schedule__card--logo">
              <div class="schedule__logo">
                <img src="assets/presidents-cup-logo.png" alt="Presidents Cup logo" />
              </div>
              <h3>Presidents Cup 2026</h3>
              <p class="schedule__meta">Medinah Country Club (Course No. 3), Chicago, Illinois, USA</p>
              <div class="schedule__date">Sep 22–27, 2026</div>
            </article>
          </div>
        </div>

        <div class="schedule__group">
          <div class="schedule__heading">
            <h2>2027</h2>
          </div>
          <div class="schedule__cards">
            <article class="schedule__card schedule__card--logo">
              <div class="schedule__logo">
                <img src="assets/ryder-cup-logo.png" alt="Ryder Cup logo" />
              </div>
              <h3>Ryder Cup 2027</h3>
              <p class="schedule__meta">The Golf Course at Adare Manor, County Limerick, Ireland</p>
              <div class="schedule__date">Sep 17–19, 2027</div>
            </article>
          </div>
        </div>
      </div>

      <div class="schedule__panel" data-panel="results" role="tabpanel" aria-live="polite">
        <div class="schedule__loading">Loading results…</div>
      </div>
    </section>

    <script src="app.js"></script>
    <script>
      const setScheduleView = (view) => {
        const scheduleButtons = Array.from(document.querySelectorAll(".schedule__toggle-btn"));
        const schedulePanels = Array.from(document.querySelectorAll(".schedule__panel"));
        scheduleButtons.forEach((btn) => {
          const active = btn.dataset.view === view;
          btn.classList.toggle("is-active", active);
          btn.setAttribute("aria-selected", active ? "true" : "false");
        });
        schedulePanels.forEach((panel) => {
          panel.classList.toggle("is-active", panel.dataset.panel === view);
        });
      };

      document.addEventListener("click", (event) => {
        const button = event.target.closest(".schedule__toggle-btn");
        if (!button) return;
        event.preventDefault();
        setScheduleView(button.dataset.view);
      });

      const MONTH_ORDER = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December"
      ];

      const logoMap = {
        "Ryder Cup": "assets/ryder-cup-logo.png",
        "Presidents Cup": "assets/presidents-cup-logo.png"
      };

      const initialsForEvent = (eventName) => {
        return eventName
          .split(" ")
          .filter((part) => part.length)
          .map((part) => part[0])
          .slice(0, 3)
          .join("")
          .toUpperCase();
      };

      const buildResults = (matches) => {
        const entries = new Map();
        matches.forEach((match) => {
          const key = `${match.event}-${match.year}-${match.month || ""}`;
          if (!entries.has(key)) {
            entries.set(key, {
              event: match.event,
              year: match.year,
              month: match.month || "January"
            });
          }
        });

        const list = Array.from(entries.values()).sort((a, b) => {
          if (a.year !== b.year) return b.year - a.year;
          return MONTH_ORDER.indexOf(b.month) - MONTH_ORDER.indexOf(a.month);
        });

        const now = new Date();
        const currentYear = now.getFullYear();
        const currentMonthIndex = now.getMonth();

        return list.filter((item) => {
          const monthIndex = MONTH_ORDER.indexOf(item.month);
          return item.year < currentYear || (item.year === currentYear && monthIndex <= currentMonthIndex);
        });
      };

      const renderResults = (results) => {
        const panel = document.querySelector(".schedule__panel[data-panel='results']");
        panel.innerHTML = "";

        if (!results.length) {
          panel.innerHTML = "<p class=\"schedule__empty\">No past events listed yet.</p>";
          return;
        }

        let currentYear = null;
        results.forEach((item) => {
          if (item.year !== currentYear) {
            currentYear = item.year;
            const group = document.createElement("div");
            group.className = "schedule__group";
            group.innerHTML = `\n              <div class=\"schedule__heading\">\n                <h2>${currentYear}</h2>\n              </div>\n              <div class=\"schedule__cards\"></div>\n            `;\n            panel.appendChild(group);\n          }

          const groupCards = panel.lastElementChild.querySelector(".schedule__cards");
          const card = document.createElement("article");
          const logo = logoMap[item.event];
          card.className = "schedule__card schedule__card--logo";

          const dateLabel = `${item.month} ${item.year}`;
          const venueLabel = "";

          card.innerHTML = `\n            <div class=\"schedule__logo\">\n              ${logo ? `<img src=\"${logo}\" alt=\"${item.event} logo\" />` : `<span class=\"schedule__logo-text\">${initialsForEvent(item.event)}</span>`}\n            </div>\n            <h3>${item.event} ${item.year}</h3>\n            <p class=\"schedule__meta schedule__meta--empty\">${venueLabel || \"&nbsp;\"}</p>\n            <div class=\"schedule__date\">${dateLabel}</div>\n          `;\n          groupCards.appendChild(card);\n        });\n      };

      fetch("data.json")\n        .then((response) => response.json())\n        .then((data) => {\n          const results = buildResults(data.matches || []);\n          renderResults(results);\n        })\n        .catch(() => {\n          const panel = document.querySelector(\".schedule__panel[data-panel='results']\");\n          if (panel) {\n            panel.innerHTML = \"<p class=\\\"schedule__empty\\\">Unable to load past events.</p>\";\n          }\n        });\n    </script>
  </body>
</html>
